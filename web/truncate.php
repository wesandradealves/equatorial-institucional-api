<?php
// ConfiguraÃ§Ãµes de conexÃ£o
$host = 'drupal-postgres.institucional-drupal-ma-dev.svc.cluster.local';
$dbname = 'drupal-database';
$user = 'drupal-user';
$password = 'drupal-pass';

try {
    // Conectar ao banco de dados
    $dsn = "pgsql:host=$host;dbname=$dbname";
    $pdo = new PDO($dsn, $user, $password, [PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION]);

    // Script SQL de truncamento de tabelas
    $sql = "
    TRUNCATE batch;
    TRUNCATE block_content;
    TRUNCATE block_content_field_data;
    TRUNCATE block_content_field_revision;
    TRUNCATE block_content_revision;
    TRUNCATE block_content_revision__body;
    TRUNCATE block_content_revision__field_atalho_clara;
    TRUNCATE block_content_revision__field_cta_label;
    TRUNCATE block_content_revision__field_cta_url;
    TRUNCATE block_content_revision__field_imagem;
    TRUNCATE block_content_revision__field_servicos;
    TRUNCATE block_content_revision__field_texto;
    TRUNCATE block_content_revision__field_titulo;
    TRUNCATE block_content__body;
    TRUNCATE block_content__field_atalho_clara;
    TRUNCATE block_content__field_cta_label;
    TRUNCATE block_content__field_cta_url;
    TRUNCATE block_content__field_imagem;
    TRUNCATE block_content__field_servicos;
    TRUNCATE block_content__field_texto;
    TRUNCATE block_content__field_titulo;
    TRUNCATE cachetags;
    TRUNCATE cache_access_policy;
    TRUNCATE cache_bootstrap;
    TRUNCATE cache_config;
    TRUNCATE cache_container;
    TRUNCATE cache_data;
    TRUNCATE cache_default;
    TRUNCATE cache_discovery;
    TRUNCATE cache_discovery_migration;
    TRUNCATE cache_dynamic_page_cache;
    TRUNCATE cache_entity;
    TRUNCATE cache_jsonapi_normalizations;
    TRUNCATE cache_menu;
    TRUNCATE cache_migrate;
    TRUNCATE cache_page;
    TRUNCATE cache_render;
    TRUNCATE cache_rest;
    TRUNCATE cache_toolbar;
    TRUNCATE comment;
    TRUNCATE comment_entity_statistics;
    TRUNCATE comment_field_data;
    TRUNCATE comment__comment_body;
    TRUNCATE config;
    TRUNCATE config_export;
    TRUNCATE config_import;
    TRUNCATE config_snapshot;
    TRUNCATE file_managed;
    TRUNCATE file_usage;
    TRUNCATE flood;
    TRUNCATE help_search_items;
    TRUNCATE history;
    TRUNCATE key_value;
    TRUNCATE key_value_expire;
    TRUNCATE locales_location;
    TRUNCATE locales_source;
    TRUNCATE locales_target;
    TRUNCATE locale_file;
    TRUNCATE media;
    TRUNCATE media_field_data;
    TRUNCATE media_field_revision;
    TRUNCATE media_revision;
    TRUNCATE media_revision__field_media_audio_file;
    TRUNCATE media_revision__field_media_document;
    TRUNCATE media_revision__field_media_image;
    TRUNCATE media_revision__field_media_oembed_video;
    TRUNCATE media_revision__field_media_svg;
    TRUNCATE media_revision__field_media_video_file;
    TRUNCATE media__field_media_audio_file;
    TRUNCATE media__field_media_document;
    TRUNCATE media__field_media_image;
    TRUNCATE media__field_media_oembed_video;
    TRUNCATE media__field_media_svg;
    TRUNCATE media__field_media_video_file;
    TRUNCATE menu_link_content;
    TRUNCATE menu_link_content_data;
    TRUNCATE menu_link_content_field_revision;
    TRUNCATE menu_link_content_revision;
    TRUNCATE menu_tree;
    TRUNCATE migrate_map_my_wordpress_attachments;
    TRUNCATE migrate_map_my_wordpress_categories;
    TRUNCATE migrate_map_my_wordpress_content_post;
    TRUNCATE migrate_map_my_wordpress_tags;
    TRUNCATE migrate_message_my_wordpress_attachments;
    TRUNCATE migrate_message_my_wordpress_categories;
    TRUNCATE migrate_message_my_wordpress_content_post;
    TRUNCATE migrate_message_my_wordpress_tags;
    TRUNCATE node;
    TRUNCATE node_access;
    TRUNCATE node_field_data;
    TRUNCATE node_field_revision;
    TRUNCATE node_revision;
    TRUNCATE node_revision__body;
    TRUNCATE node_revision__comment;
    TRUNCATE node_revision__field_categoria;
    TRUNCATE node_revision__field_conteudo;
    TRUNCATE node_revision__field_image;
    TRUNCATE node_revision__field_tags;
    TRUNCATE node_revision__field_thumbnail;
    TRUNCATE node_revision__field_title;
    TRUNCATE node_revision__field_url;
    TRUNCATE node_revision__field_video;
    TRUNCATE node__body;
    TRUNCATE node__comment;
    TRUNCATE node__field_categoria;
    TRUNCATE node__field_conteudo;
    TRUNCATE node__field_image;
    TRUNCATE node__field_tags;
    TRUNCATE node__field_thumbnail;
    TRUNCATE node__field_title;
    TRUNCATE node__field_url;
    TRUNCATE node__field_video;
    TRUNCATE paragraphs_item;
    TRUNCATE paragraphs_item_field_data;
    TRUNCATE paragraphs_item_revision;
    TRUNCATE paragraphs_item_revision_field_data;
    TRUNCATE paragraph_revision__field_body;
    TRUNCATE paragraph_revision__field_card;
    TRUNCATE paragraph_revision__field_content_type;
    TRUNCATE paragraph_revision__field_conteudo_texto_curto;
    TRUNCATE paragraph_revision__field_csv;
    TRUNCATE paragraph_revision__field_cta_label;
    TRUNCATE paragraph_revision__field_cta_url;
    TRUNCATE paragraph_revision__field_detail_color;
    TRUNCATE paragraph_revision__field_detail_position;
    TRUNCATE paragraph_revision__field_enable_filter;
    TRUNCATE paragraph_revision__field_enable_numbers;
    TRUNCATE paragraph_revision__field_field_items_per_page;
    TRUNCATE paragraph_revision__field_filter_key;
    TRUNCATE paragraph_revision__field_galeria;
    TRUNCATE paragraph_revision__field_icone;
    TRUNCATE paragraph_revision__field_imagem;
    TRUNCATE paragraph_revision__field_key;
    TRUNCATE paragraph_revision__field_key_label;
    TRUNCATE paragraph_revision__field_layout;
    TRUNCATE paragraph_revision__field_layout_intro;
    TRUNCATE paragraph_revision__field_layout_intro_list;
    TRUNCATE paragraph_revision__field_layout_texto_enumerado;
    TRUNCATE paragraph_revision__field_link;
    TRUNCATE paragraph_revision__field_list_item;
    TRUNCATE paragraph_revision__field_mask_enabled;
    TRUNCATE paragraph_revision__field_no_background;
    TRUNCATE paragraph_revision__field_subtitulo;
    TRUNCATE paragraph_revision__field_texto;
    TRUNCATE paragraph_revision__field_texto_curto;
    TRUNCATE paragraph_revision__field_title;
    TRUNCATE paragraph_revision__field_titulo;
    TRUNCATE paragraph_revision__field_video_title;
    TRUNCATE paragraph_revision__field_video_url;
    TRUNCATE paragraph__field_body;
    TRUNCATE paragraph__field_card;
    TRUNCATE paragraph__field_content_type;
    TRUNCATE paragraph__field_conteudo_texto_curto;
    TRUNCATE paragraph__field_csv;
    TRUNCATE paragraph__field_cta_label;
    TRUNCATE paragraph__field_cta_url;
    TRUNCATE paragraph__field_detail_color;
    TRUNCATE paragraph__field_detail_position;
    TRUNCATE paragraph__field_enable_filter;
    TRUNCATE paragraph__field_enable_numbers;
    TRUNCATE paragraph__field_field_items_per_page;
    TRUNCATE paragraph__field_filter_key;
    TRUNCATE paragraph__field_galeria;
    TRUNCATE paragraph__field_icone;
    TRUNCATE paragraph__field_imagem;
    TRUNCATE paragraph__field_key;
    TRUNCATE paragraph__field_key_label;
    TRUNCATE paragraph__field_layout;
    TRUNCATE paragraph__field_layout_intro;
    TRUNCATE paragraph__field_layout_intro_list;
    TRUNCATE paragraph__field_layout_texto_enumerado;
    TRUNCATE paragraph__field_link;
    TRUNCATE paragraph__field_list_item;
    TRUNCATE paragraph__field_mask_enabled;
    TRUNCATE paragraph__field_no_background;
    TRUNCATE paragraph__field_subtitulo;
    TRUNCATE paragraph__field_texto;
    TRUNCATE paragraph__field_texto_curto;
    TRUNCATE paragraph__field_title;
    TRUNCATE paragraph__field_titulo;
    TRUNCATE paragraph__field_video_title;
    TRUNCATE paragraph__field_video_url;
    TRUNCATE path_alias;
    TRUNCATE path_alias_revision;
    TRUNCATE queue;
    TRUNCATE router;
    TRUNCATE search_dataset;
    TRUNCATE search_index;
    TRUNCATE search_total;
    TRUNCATE semaphore;
    TRUNCATE sequences;
    TRUNCATE sessions;
    TRUNCATE shortcut;
    TRUNCATE shortcut_field_data;
    TRUNCATE shortcut_set_users;
    TRUNCATE taxonomy_index;
    TRUNCATE taxonomy_term_data;
    TRUNCATE taxonomy_term_field_data;
    TRUNCATE taxonomy_term_field_revision;
    TRUNCATE taxonomy_term_revision;
    TRUNCATE taxonomy_term_revision__parent;
    TRUNCATE taxonomy_term__parent;
    TRUNCATE users;
    TRUNCATE users_data;
    TRUNCATE users_field_data;
    TRUNCATE user__roles;
    TRUNCATE user__user_picture;
    TRUNCATE views_url_alias;
    TRUNCATE watchdog;
    TRUNCATE webform;
    TRUNCATE webform_submission;
    TRUNCATE webform_submission_data;
    ";

    // Executar o script SQL
    $pdo->exec($sql);

    echo "Tabelas truncadas com sucesso!";
} catch (PDOException $e) {
    echo "Erro ao truncar tabelas: " . $e->getMessage();
}
